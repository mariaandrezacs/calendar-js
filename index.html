<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Calend치rio</title>
  <link rel="stylesheet" href="css/custom.css">
  <style>
    .fc-timeline-header .fc-col-header-cell-cushion {
      font-size: 8px !important;
      padding: 2px;
    }

    .fc .fc-timeline-header-row {
      height: 20px;
    }

    /* 游댳 Destaque para s치bado e domingo */
    .fc-weekend {
      background-color: #781133ff !important;
      /* rosa claro */
    }
  </style>
</head>

<body>

  <div id="calendar"></div>

  <!-- <script src="js/custom.js"></script> -->
  <!-- <script src="js/index.global.min.js"></script>
  <script src="js/locales-all.global.min.js"></script> -->

  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar-scheduler@6.1.8/index.global.min.js"></script>
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="https://unpkg.com/tippy.js@6"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const calendarEl = document.getElementById('calendar')

      const rawEvents = [
        {
          id: '1',
          resourceId: '1',
          start: '2025-09-21',
          end: '2025-09-23',
          title: 'Congresso da Sociedade Brasileira de computa칞칚o',
          color: 'orange'
        },
        {
          id: '2',
          resourceId: '1',
          start: '2025-09-24',
          end: '2025-09-25',
          title: 'Eventos benificente governamental',
          color: 'red'
        },
        {
          id: '3',
          resourceId: '2',
          start: '2025-09-26',
          end: '2025-09-27',
          title: 'Defesa de tcc',
          color: 'blue'
        },
        {
          id: '4',
          resourceId: '2',
          start: '2025-09-28',
          end: '2025-09-29',
          title: '100 ANOS DE DALVA DE OLIVEIRA',
          color: 'blue'
        },
        {
          id: '5',
          resourceId: '3',
          start: '2025-09-30',
          end: '2025-07-30',
          title: 'GERAL',
          color: 'blue'
        }
      ]

      // Fun칞칚o para checar se dois eventos conflitam
      function eventosConflitam(ev1, ev2) {
        return ev1.resourceId === ev2.resourceId && new Date(ev1.start) < new Date(ev2.end) && new Date(ev2.start) < new Date(ev1.end)
      }

      // Marca eventos com conflito
      const eventosComConflito = new Set()
      for (let i = 0; i < rawEvents.length; i++) {
        for (let j = i + 1; j < rawEvents.length; j++) {
          if (eventosConflitam(rawEvents[i], rawEvents[j])) {
            eventosComConflito.add(rawEvents[i].id)
            eventosComConflito.add(rawEvents[j].id)
          }
        }
      }

      // Adiciona destaque visual nos eventos conflitantes
      const eventosDecorados = rawEvents.map((evento) => {
        if (eventosComConflito.has(evento.id)) {
          return {
            ...evento,
            title: `丘멆잺 ${evento.title}`,
            message: 'Conflito',
            borderColor: 'black',
            textColor: 'black'
          }
        }
        return evento
      })

      const calendar = new FullCalendar.Calendar(calendarEl, {
        schedulerLicenseKey: 'CC-Attribution-NonCommercial-NoDerivatives',
        initialView: 'resourceTimelineMonth',
        resourceAreaHeaderContent: 'Espa칞os',
        resourceAreaWidth: '10%',
        slotMinWidth: 30,
        locale: 'pt-br',
        height: 'auto',
        firstDay: 1,
        slotDuration: { days: 1 },
        slotLabelInterval: { days: 1 },
        slotLabelFormat: [{ weekday: 'narrow' }, { day: 'numeric' }],

        resources: [
          {
            id: 'categoria-a',
            title: 'Salas Frutas',
            children: [
              { id: '1', title: 'Espa칞o A' },
              { id: '2', title: 'Espa칞o B' }
            ]
          },
          {
            id: 'categoria-b',
            title: 'Praias',
            children: [
              { id: '3', title: 'Espa칞o C' },
              { id: '4', title: 'Espa칞o D' }
            ]
          },
          {
            id: 'categoria-c',
            title: 'Audit칩rio',
            children: [
              { id: '5', title: 'Espa칞o E' },
              { id: '6', title: 'Espa칞o F' },
              { id: '7', title: 'Espa칞o G' }
            ]
          },
          {
            id: 'categoria-d',
            title: 'Hall',
            children: [
              { id: '8', title: 'Espa칞o E' },
              { id: '9', title: 'Espa칞o F' },
              { id: '10', title: 'Espa칞o G' }
            ]
          },
          {
            id: 'categoria-e',
            title: 'Teatro',
            children: [
              { id: '11', title: 'Espa칞o E' },
              { id: '12', title: 'Espa칞o F' },
              { id: '13', title: 'Espa칞o G' }
            ]
          },
          {
            id: 'categoria-f',
            title: 'Lanchonete',
            children: [
              { id: '14', title: 'Espa칞o E' },
              { id: '15', title: 'Espa칞o F' },
              { id: '16', title: 'Espa칞o G' }
            ]
          }
        ],

        events: eventosDecorados,

        // 游댳 Marca s치bados e domingos com classe extra
        dayCellClassNames: function (arg) {
          const day = arg.date.getDay() // 0 = domingo, 6 = s치bado
          if (day === 0 || day === 6) {
            return ['fc-weekend']
          }
          return []
        },

        eventDidMount: function (info) {
          tippy(info.el, {
            content: info.event.title,
            theme: 'light'
          })
        }
      })

      calendar.render()
    })
  </script>



</body>

</html>